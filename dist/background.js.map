{"version":3,"file":"background.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://perplexity-extension/./src/background/background.ts"],"sourcesContent":["\"use strict\";\n// src/background/background.ts\nchrome.runtime.onInstalled.addListener(() => {\n    console.log(\"AI Assistant extension installed\");\n});\n// Listen for tab updates to detect AI platforms\nchrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n    if (changeInfo.status === \"complete\" && tab.url) {\n        const url = tab.url.toLowerCase();\n        console.log(\"url\", url);\n        // Check if the page is one of our supported AI platforms\n        if (url.includes(\"perplexity.ai\") ||\n            url.includes(\"chatgpt.com\") ||\n            url.includes(\"chat.deepseek.com\") ||\n            url.includes(\"gemini.google.com\")) {\n            // The page is a supported AI platform and has finished loading\n            chrome.tabs.sendMessage(tabId, {\n                action: \"aiPlatformDetected\",\n                platform: url.includes(\"perplexity.ai\")\n                    ? \"perplexity\"\n                    : url.includes(\"chatgpt.com\")\n                        ? \"chatgpt\"\n                        : \"deepseek\",\n            });\n        }\n    }\n});\n// Listen for messages from content script\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    var _a;\n    if (request.action === \"aiPlatformDetected\") {\n        // We can use this to update the extension icon if needed\n        chrome.action.setIcon({\n            path: {\n                16: \"icon16.png\",\n                48: \"icon48.png\",\n                128: \"icon128.png\",\n            },\n            tabId: (_a = sender.tab) === null || _a === void 0 ? void 0 : _a.id,\n        });\n    }\n    return true;\n});\n"],"names":[],"sourceRoot":""}